/*! Copyright (c) 2017, Andrea Giammarchi (ISC) */
!function(t){"use strict";function e(t){var e,n=t.target,r=t.attributeName,a=t.oldValue;Ct&&n[L]&&"style"!==r&&(e=pt.call(n,r))!==a&&n[L](r,a,e)}function n(){var t=g.splice(0,g.length);for(Ot=0;t.length;)t.shift().call(null,t.shift())}function r(t,e){for(var n=0,r=t.length;n<r;n++)d(t[n],e)}function a(t){for(var e,n=0,r=t.length;n<r;n++)e=t[n],N(e,z[l(e)])}function o(t){return function(e){ct(e)&&(d(e,t),B.length&&r(e.querySelectorAll(B),t))}}function l(t){return J.call(W,K+t.nodeName.toUpperCase())}function u(t){var e=t.currentTarget,n=t.attrChange,r=t.attrName,a=t.target,o=t[R]||2,l=t[U]||3;!Ct||a&&a!==e||!e[L]||"style"===r||t.prevValue===t.newValue&&(""!==t.newValue||n!==o&&n!==l)||e[L](r,n===o?null:t.prevValue,n===l?null:t.newValue)}function i(t){var e=o(t);return function(t){g.push(e,t.target),Ot&&clearTimeout(Ot),Ot=setTimeout(n,1)}}function c(t){Et&&(Et=!1,t.currentTarget.removeEventListener(k,c)),B.length&&r((t.target||C).querySelectorAll(B),t.detail===_?_:T),it&&p()}function s(t){var e=t.cloneNode;t.cloneNode=function(t){var n=e.call(this,!!t),r=l(n);return-1<r&&N(n,z[r]),t&&B.length&&a(n.querySelectorAll(B)),n}}function f(t,e){var n=this;gt.call(n,t,e),m.call(n,{target:n})}function h(t,e){ot(t,e),O?O.observe(t,bt):(Nt&&(t.setAttribute=f,t[M]=y(t),t[D](x,m)),t[D](j,u)),t[F]&&Ct&&(t.created=!0,t[F](),t.created=!1)}function p(){for(var t,e=0,n=st.length;e<n;e++)t=st[e],G.contains(t)||(n--,st.splice(e--,1),d(t,_))}function v(t){throw new Error("A "+t+" type is already registered")}function d(t,e){var n,r,a=l(t);-1<a&&(A(t,z[a]),a=0,e!==T||t[T]?e!==_||t[_]||(t[T]=!1,t[_]=!0,r="disconnected",a=1):(t[_]=!1,t[T]=!0,r="connected",a=1,it&&J.call(st,t)<0&&st.push(t)),a&&(n=t[e+I]||t[r+I])&&n.call(t))}var g,m,b,y,O,w,A,N,E,C=t.document,V=t.Object,M="__registerElement"+(1e5*t.Math.random()>>0),D="addEventListener",T="attached",I="Callback",_="detached",L="attributeChanged"+I,P=T+I,S="connected"+I,q="disconnected"+I,F="created"+I,H=_+I,R="ADDITION",U="REMOVAL",j="DOMAttrModified",k="DOMContentLoaded",x="DOMSubtreeModified",K="<",W=[],z=[],B="",G=C.documentElement,J=W.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},Q=V.prototype,X=Q.hasOwnProperty,Y=Q.isPrototypeOf,Z=V.defineProperty,$=V.getOwnPropertyDescriptor,tt=V.getOwnPropertyNames,et=V.getPrototypeOf,nt=V.setPrototypeOf,rt=!!V.__proto__,at=V.create||function t(e){return e?(t.prototype=e,new t):this},ot=nt||(rt?function(t,e){return t.__proto__=e,t}:tt&&$?function(){function t(t,e){for(var n,r=tt(e),a=0,o=r.length;a<o;a++)n=r[a],X.call(t,n)||Z(t,n,$(e,n))}return function(e,n){do{t(e,n)}while((n=et(n))&&!Y.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),lt=t.MutationObserver||t.WebKitMutationObserver,ut=(t.HTMLElement||t.Element||t.Node).prototype,it=!Y.call(ut,G),ct=it?function(t){return 1===t.nodeType}:function(t){return Y.call(ut,t)},st=it&&[],ft=ut.attachShadow,ht=ut.dispatchEvent,pt=ut.getAttribute,vt=ut.hasAttribute,dt=ut.removeAttribute,gt=ut.setAttribute,mt=C.createElement,bt=lt&&{attributes:!0,characterData:!0,attributeOldValue:!0},yt=lt||function(){Nt=!1,G.removeEventListener(j,yt)},Ot=0,wt=!0,At=!1,Nt=!0,Et=!0,Ct=!0,Vt=t.customElements;"registerElement"in C||(Vt?(function(){},E=Reflect.construct,C.registerElement=function(t,n){function r(){return E(o,arguments,r)[F]()}var a=n.prototype,o=et(a).constructor,l=a[F],u=a[L],i=a[P],c=a[H],s=u?function(t){return h.observe(t,{attributes:!0,attributeOldValue:!0}),t}:V,f=function(t,e){Z(r.prototype,t,{configurable:!0,writable:!0,value:e})},h=u&&new lt(function(t){for(var n=0,r=t.length;n<r;n++)e(t[n])});return r.prototype=at(a),f(F,l?function(){return l.call(s(this)),this}:function(){return s(this)}),u&&f(L,u),i&&f(S,i),c&&f(q,c),Vt.define(t,r),r}):(nt||rt?(A=function(t,e){Y.call(e,t)||h(t,e)},N=h):N=A=function(t,e){t[M]||(t[M]=V(!0),h(t,e))},it?(Nt=!1,function(){var t=$(ut,D),e=t.value,n=function(t){var e=new CustomEvent(j,{bubbles:!0});e.attrName=t,e.prevValue=pt.call(this,t),e.newValue=null,e[U]=e.attrChange=2,dt.call(this,t),ht.call(this,e)},r=function(t,e){var n=vt.call(this,t),r=n&&pt.call(this,t),a=new CustomEvent(j,{bubbles:!0});gt.call(this,t,e),a.attrName=t,a.prevValue=n?r:null,a.newValue=e,n?a.MODIFICATION=a.attrChange=1:a[R]=a.attrChange=0,ht.call(this,a)},a=function(t){var e,n=t.currentTarget,r=n[M],a=t.propertyName;r.hasOwnProperty(a)&&(r=r[a],(e=new CustomEvent(j,{bubbles:!0})).attrName=r.name,e.prevValue=r.value||null,e.newValue=r.value=n[a]||null,null==e.prevValue?e[R]=e.attrChange=0:e.MODIFICATION=e.attrChange=1,ht.call(n,e))};t.value=function(t,o,l){t===j&&this[L]&&this.setAttribute!==r&&(this[M]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,e.call(this,"propertychange",a)),e.call(this,t,o,l)},Z(ut,D,t)}()):lt||(G[D](j,yt),G.setAttribute(M,1),G.removeAttribute(M),Nt&&(m=function(t){var e,n,r,a=this;if(a===t.target){e=a[M],a[M]=n=y(a);for(r in n){if(!(r in e))return b(0,a,r,e[r],n[r],R);if(n[r]!==e[r])return b(1,a,r,e[r],n[r],"MODIFICATION")}for(r in e)if(!(r in n))return b(2,a,r,e[r],n[r],U)}},b=function(t,e,n,r,a,o){var l={attrChange:t,currentTarget:e,attrName:n,prevValue:r,newValue:a};l[o]=t,u(l)},y=function(t){for(var e,n,r={},a=t.attributes,o=0,l=a.length;o<l;o++)"setAttribute"!==(n=(e=a[o]).name)&&(r[n]=e.value);return r})),C.registerElement=function(t,n){if(a=t.toUpperCase(),wt&&(wt=!1,lt?(O=function(t,n){function r(t,e){for(var n=0,r=t.length;n<r;e(t[n++]));}return new lt(function(a){for(var o,l=0,u=a.length;l<u;l++)"childList"===(o=a[l]).type?(r(o.addedNodes,t),r(o.removedNodes,n)):e(o)})}(o(T),o(_)),(w=function(t){return O.observe(t,{childList:!0,subtree:!0}),t})(C),ft&&(ut.attachShadow=function(){return w(ft.apply(this,arguments))})):(g=[],C[D]("DOMNodeInserted",i(T)),C[D]("DOMNodeRemoved",i(_))),C[D](k,c),C[D]("readystatechange",c),s(ut),s(C.createDocumentFragment().constructor.prototype)),At)return At=!1;-2<J.call(W,"="+a)+J.call(W,K+a)&&v(t);var a,l,u=function(){return C.createElement(h)},f=n||Q,h=a;return l=W.push(K+a)-1,B=B.concat(B.length?",":"",h),u.prototype=z[l]=X.call(f,"prototype")?f.prototype:at(ut),B.length&&r(C.querySelectorAll(B),T),u},C.createElement=function(t){var e=mt.apply(C,arguments),n=""+t,r=J.call(W,K+n.toUpperCase()),a=-1<r;return Ct=!C.createElement.innerHTMLHelper,a&&N(e,z[r]),e}))}(window);
