/*! Copyright (c) 2017, Andrea Giammarchi (ISC) */
!function(t){"use strict";function e(){var t=d.splice(0,d.length);for(wt=0;t.length;)t.shift().call(null,t.shift())}function n(t,e){for(var n=0,r=t.length;n<r;n++)v(t[n],e)}function r(t){for(var e,n=0,r=t.length;n<r;n++)e=t[n],O(e,z[l(e)])}function a(t){return function(e){ct(e)&&(v(e,t),B.length&&n(e.querySelectorAll(B),t))}}function l(t){return J.call(W,K+t.nodeName.toUpperCase())}function o(t){var e=t.currentTarget,n=t.attrChange,r=t.attrName,a=t.target,l=t[R]||2,o=t[U]||3;!Ct||a&&a!==e||!e[L]||"style"===r||t.prevValue===t.newValue&&(""!==t.newValue||n!==l&&n!==o)||e[L](r,n===l?null:t.prevValue,n===o?null:t.newValue)}function u(t){var n=a(t);return function(t){d.push(n,t.target),wt&&clearTimeout(wt),wt=setTimeout(e,1)}}function i(t){Et&&(Et=!1,t.currentTarget.removeEventListener(k,i)),B.length&&n((t.target||C).querySelectorAll(B),t.detail===_?_:T),it&&h()}function c(t){var e=t.cloneNode;t.cloneNode=function(t){var n=e.call(this,!!t),a=l(n);return-1<a&&O(n,z[a]),t&&B.length&&r(n.querySelectorAll(B)),n}}function s(t,e){var n=this;gt.call(n,t,e),g.call(n,{target:n})}function f(t,e){lt(t,e),y?y.observe(t,bt):(At&&(t.setAttribute=s,t[M]=b(t),t[D](x,g)),t[D](j,o)),t[F]&&Ct&&(t.created=!0,t[F](),t.created=!1)}function h(){for(var t,e=0,n=st.length;e<n;e++)t=st[e],G.contains(t)||(n--,st.splice(e--,1),v(t,_))}function p(t){throw new Error("A "+t+" type is already registered")}function v(t,e){var n,r,a=l(t);-1<a&&(N(t,z[a]),a=0,e!==T||t[T]?e!==_||t[_]||(t[T]=!1,t[_]=!0,r="disconnected",a=1):(t[_]=!1,t[T]=!0,r="connected",a=1,it&&J.call(st,t)<0&&st.push(t)),a&&(n=t[e+I]||t[r+I])&&n.call(t))}var d,g,m,b,y,w,N,O,A,E,C=t.document,V=t.Object,M="__registerElement"+(1e5*t.Math.random()>>0),D="addEventListener",T="attached",I="Callback",_="detached",L="attributeChanged"+I,P=T+I,S="connected"+I,q="disconnected"+I,F="created"+I,H=_+I,R="ADDITION",U="REMOVAL",j="DOMAttrModified",k="DOMContentLoaded",x="DOMSubtreeModified",K="<",W=[],z=[],B="",G=C.documentElement,J=W.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},Q=V.prototype,X=Q.hasOwnProperty,Y=Q.isPrototypeOf,Z=V.defineProperty,$=V.getOwnPropertyDescriptor,tt=V.getOwnPropertyNames,et=V.getPrototypeOf,nt=V.setPrototypeOf,rt=!!V.__proto__,at=V.create||function t(e){return e?(t.prototype=e,new t):this},lt=nt||(rt?function(t,e){return t.__proto__=e,t}:tt&&$?function(){function t(t,e){for(var n,r=tt(e),a=0,l=r.length;a<l;a++)n=r[a],X.call(t,n)||Z(t,n,$(e,n))}return function(e,n){do{t(e,n)}while((n=et(n))&&!Y.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),ot=t.MutationObserver||t.WebKitMutationObserver,ut=(t.HTMLElement||t.Element||t.Node).prototype,it=!Y.call(ut,G),ct=it?function(t){return 1===t.nodeType}:function(t){return Y.call(ut,t)},st=it&&[],ft=ut.attachShadow,ht=ut.dispatchEvent,pt=ut.getAttribute,vt=ut.hasAttribute,dt=ut.removeAttribute,gt=ut.setAttribute,mt=C.createElement,bt=ot&&{attributes:!0,characterData:!0,attributeOldValue:!0},yt=ot||function(){At=!1,G.removeEventListener(j,yt)},wt=0,Nt=!0,Ot=!1,At=!0,Et=!0,Ct=!0,Vt=t.customElements;"registerElement"in C||(Vt?(A=function(){},E=Reflect.construct,C.registerElement=function(t,e){function n(){return E(a,arguments,n)}var r=e.prototype,a=et(r).constructor,l=r[F],o=r[L],u=r[P],i=r[H],c=function(t,e){Z(n.prototype,t,{configurable:!0,writable:!0,value:e})},s=o&&new ot(function(t){for(var e,n,r,a=0,l=t.length;a<l;a++)n=(e=t[a]).target,r=e.attributeName,n[L](r,e.oldValue,n.getAttribute(r))});return n.prototype=at(r),c(F,function(){Z(this,F,{value:A}),o&&s.observe(this,{attributes:!0}),l&&l.call(this)}),c(L,function(){this[F](),o&&o.apply(this,arguments)}),c(S,function(){this[F](),u&&u.apply(this,arguments)}),i&&c(q,i),Vt.define(t,n),n}):(nt||rt?(N=function(t,e){Y.call(e,t)||f(t,e)},O=f):O=N=function(t,e){t[M]||(t[M]=V(!0),f(t,e))},it?(At=!1,function(){var t=$(ut,D),e=t.value,n=function(t){var e=new CustomEvent(j,{bubbles:!0});e.attrName=t,e.prevValue=pt.call(this,t),e.newValue=null,e[U]=e.attrChange=2,dt.call(this,t),ht.call(this,e)},r=function(t,e){var n=vt.call(this,t),r=n&&pt.call(this,t),a=new CustomEvent(j,{bubbles:!0});gt.call(this,t,e),a.attrName=t,a.prevValue=n?r:null,a.newValue=e,n?a.MODIFICATION=a.attrChange=1:a[R]=a.attrChange=0,ht.call(this,a)},a=function(t){var e,n=t.currentTarget,r=n[M],a=t.propertyName;r.hasOwnProperty(a)&&(r=r[a],(e=new CustomEvent(j,{bubbles:!0})).attrName=r.name,e.prevValue=r.value||null,e.newValue=r.value=n[a]||null,null==e.prevValue?e[R]=e.attrChange=0:e.MODIFICATION=e.attrChange=1,ht.call(n,e))};t.value=function(t,l,o){t===j&&this[L]&&this.setAttribute!==r&&(this[M]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,e.call(this,"propertychange",a)),e.call(this,t,l,o)},Z(ut,D,t)}()):ot||(G[D](j,yt),G.setAttribute(M,1),G.removeAttribute(M),At&&(g=function(t){var e,n,r,a=this;if(a===t.target){e=a[M],a[M]=n=b(a);for(r in n){if(!(r in e))return m(0,a,r,e[r],n[r],R);if(n[r]!==e[r])return m(1,a,r,e[r],n[r],"MODIFICATION")}for(r in e)if(!(r in n))return m(2,a,r,e[r],n[r],U)}},m=function(t,e,n,r,a,l){var u={attrChange:t,currentTarget:e,attrName:n,prevValue:r,newValue:a};u[l]=t,o(u)},b=function(t){for(var e,n,r={},a=t.attributes,l=0,o=a.length;l<o;l++)"setAttribute"!==(n=(e=a[l]).name)&&(r[n]=e.value);return r})),C.registerElement=function(t,e){if(r=t.toUpperCase(),Nt&&(Nt=!1,ot?(y=function(t,e){function n(t,e){for(var n=0,r=t.length;n<r;e(t[n++]));}return new ot(function(r){for(var a,l,o,u=0,i=r.length;u<i;u++)"childList"===(a=r[u]).type?(n(a.addedNodes,t),n(a.removedNodes,e)):(l=a.target,Ct&&l[L]&&"style"!==a.attributeName&&(o=pt.call(l,a.attributeName))!==a.oldValue&&l[L](a.attributeName,a.oldValue,o))})}(a(T),a(_)),(w=function(t){return y.observe(t,{childList:!0,subtree:!0}),t})(C),ft&&(ut.attachShadow=function(){return w(ft.apply(this,arguments))})):(d=[],C[D]("DOMNodeInserted",u(T)),C[D]("DOMNodeRemoved",u(_))),C[D](k,i),C[D]("readystatechange",i),c(ut),c(C.createDocumentFragment().constructor.prototype)),Ot)return Ot=!1;-2<J.call(W,"="+r)+J.call(W,K+r)&&p(t);var r,l,o=function(){return C.createElement(f)},s=e||Q,f=r;return l=W.push(K+r)-1,B=B.concat(B.length?",":"",f),o.prototype=z[l]=X.call(s,"prototype")?s.prototype:at(ut),B.length&&n(C.querySelectorAll(B),T),o},C.createElement=function(t){var e=mt.apply(C,arguments),n=""+t,r=J.call(W,K+n.toUpperCase()),a=-1<r;return Ct=!C.createElement.innerHTMLHelper,a&&O(e,z[r]),e}))}(window);
